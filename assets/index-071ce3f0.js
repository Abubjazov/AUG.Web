import{u as R,j as t,c as x,B as V,a as F,E as W,n as q,b as p,d as y,S as w,T as E,e as D,s as T,f as Y,g as K,r as I,h as k,i as M,M as Q,k as b,l as z,m as X,o as Z,p as N,q as J,t as B,v as O,w as tt,x as et,y as st}from"./index-fd8bd17b.js";import{u as $,g as nt}from"./dapplets-d443c173.js";const ot="_root_hdffr_1",at="_title_hdffr_13",it="_button_hdffr_20",S={root:ot,"menu-closed":"_menu-closed_hdffr_9",title:at,button:it,"input-wrapper":"_input-wrapper_hdffr_25"},U=({userStyles:o="",inputValidators:n,menuOpened:e,loading:s,placeholder:i,title:d,onClick:m})=>{const l=R("",{...n}),c=()=>{l.onBlur(),!l.errors.length&&m&&(m(l.value),l.onChange({target:{value:""}}),l.setIsDirty(!1))};return t.jsxs("div",{className:x([S.root,e?"":S["menu-closed"],o]),children:[t.jsx("span",{className:S.title,children:d}),t.jsxs("div",{className:S["input-wrapper"],children:[t.jsx(V,{dataTestId:"create-name-input",type:"text",name:"tag-name-input",placeholder:i,value:l.value,onChange:l.onChange,onBlur:l.onBlur,errors:l.errors,isDirty:l.isDirty}),t.jsx(F,{userStyles:S.button,label:"Create",mode:W.CONTAINED_BLUE,onClick:c,loading:s})]})]})},rt="_root_1iq6g_1",lt="_title_1iq6g_11",ct="_list_1iq6g_18",dt="_circle_1iq6g_23",j={root:rt,"ds-closed":"_ds-closed_1iq6g_7",title:lt,list:ct,circle:dt,"list-item":"_list-item_1iq6g_30","list-item-text":"_list-item-text_1iq6g_40"},ut=[{text:"telegram.org",href:"https://telegram.org/"},{text:"whatsapp.com",href:"https://www.whatsapp.com/"},{text:"facebook.com",href:"https://www.facebook.com/"},{text:"twitter.com",href:"https://twitter.com/"}],mt=({dsOpened:o,userStyles:n=""})=>t.jsxs("div",{className:x([j.root,o?"":j["ds-closed"],n]),children:[t.jsx("span",{className:j.title,children:"Working on"}),t.jsx("div",{className:j.list,children:ut.map(e=>t.jsxs("div",{className:j["list-item"],children:[t.jsx("div",{className:j.circle}),t.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:e.href,className:j["list-item-text"],children:e.text})]},q()))})]}),pt="_root_kslqv_1",_t="_title_kslqv_8",g={root:pt,title:_t,"arrow-button":"_arrow-button_kslqv_20","ds-closed":"_ds-closed_kslqv_31","ds-inner-closed":"_ds-inner-closed_kslqv_35","title-ds-closed":"_title-ds-closed_kslqv_39","margin-top-30":"_margin-top-30_kslqv_51","margin-top-60":"_margin-top-60_kslqv_55"},H=({windowInner:o})=>{const n=$(),{dappletSettingsOpened:e}=p(a=>a.layout),{isAddingUserList:s,isAddingUserTag:i,tagOperationGoing:d}=p(a=>a.userData),{userTags:m}=p(a=>a.userData),l=p(a=>a.dapplets.tags),c=y(),r=()=>{c(T(!e))},u=a=>{const v=q();c(Y({tagId:v,tagName:a}))},A=a=>{const v=q();c(K({listId:v,listName:a}))};return t.jsxs("div",{className:x([g.root]),children:[!o&&t.jsx("div",{className:x([g["arrow-button"],e?"":g["ds-closed"]]),onClick:r,"data-testid":"dapplet-settings-arrow-button",children:t.jsx(w,{icon:"arrowLeft"})}),n>880&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:x([g.title,e?"":g["title-ds-closed"]]),children:"Dapplet Settings"}),t.jsx(U,{userStyles:g["margin-top-30"],title:"Create new list",placeholder:"List Name",menuOpened:e,onClick:A,loading:s,inputValidators:{isEmpty:{value:!0,message:"List name required"},minLength:{value:3,message:"Minimum list name length 3 symbols"},maxLength:{value:25,message:"Maximum list name length 25 symbols"}}})]}),t.jsx(U,{userStyles:g["margin-top-60"],title:"New tag",placeholder:"Tag Name",menuOpened:e,onClick:u,loading:i,inputValidators:{isEmpty:{value:!0,message:"Tag name required"},minLength:{value:3,message:"Minimum tag name length 3 symbols"},maxLength:{value:13,message:"Maximum tag name length 13 symbols"}}}),t.jsx(E,{userStyles:g["margin-top-60"],menuOpened:e,tags:m,title:"My tags",tagMode:D.MY_TAG,titleUppercase:!0,tagOperationGoing:d}),n>880&&t.jsxs(t.Fragment,{children:[t.jsx(E,{userStyles:g["margin-top-60"],menuOpened:e,tags:l,title:"Community tags",tagMode:D.COMMUNITY_TAG,titleUppercase:!0}),t.jsx(mt,{dsOpened:e,userStyles:g["margin-top-60"]})]})]})},gt=()=>{const{loadFilter:o}=p(i=>i.dapplets),{userDapplets:n}=p(i=>i.userData),{menuButtonsState:e}=p(i=>i.layout),s=y();I.useEffect(()=>{switch(e){case 0:s(k({...o,withWhere:void 0,withStartAfter:void 0}));break;case 1:s(k({...o,withWhere:{field:"__name__",operator:M.IN,comparisonValue:n.map(i=>i.dappletId)},withStartAfter:void 0}));break;case 2:s(k({...o,withWhere:{field:"communityTags",operator:M.ARRAY_CONTAINS,comparisonValue:"g7ZHnpKPDr3y6O9ufaAa"},withStartAfter:void 0}));break;case 3:s(k({...o,withWhere:{field:"communityTags",operator:M.ARRAY_CONTAINS,comparisonValue:"3LYUFQTbdNULwBgCkfXx"},withStartAfter:void 0}));break}},[e])},ht="_root_1t4mf_1",xt="_text_1t4mf_6",jt="_active_1t4mf_14",vt="_connection_1t4mf_21",L={root:ht,text:xt,active:jt,connection:vt},ft=()=>{const[o,n]=I.useState(!1),{isInProgress:e}=p(u=>u.auth),{isLoadingDapplets:s}=p(u=>u.dapplets),{isAddingUserTag:i,isAddingUserList:d,isLoadingUserData:m,tagOperationGoing:l,dappletOperationGoing:c,listOperationGoing:r}=p(u=>u.userData);return I.useEffect(()=>{s||i||d||m||l.length||c.length||r.length||e?n(!0):n(!1)},[c.length,d,i,s,m,r.length,e,l.length]),t.jsxs("div",{className:L.root,children:[t.jsx(w,{icon:"cloudNetwork"}),t.jsxs("span",{className:L.text,children:["Extension state:"," ",o?t.jsx("span",{className:L.connection,children:"Connection..."}):t.jsx("span",{className:L.active,children:"Active"})]})]})},Nt="_root_1cynp_1",bt="_text_1cynp_7",G={root:Nt,text:bt},yt=()=>t.jsxs("div",{className:G.root,children:[t.jsx(w,{icon:"settings"}),t.jsx("span",{className:G.text,children:"Settings"})]}),wt="_root_f2y7h_1",St="_wrapper_f2y7h_10",Ct="_burger_f2y7h_30",C={root:wt,wrapper:St,"logo-text":"_logo-text_f2y7h_15","red-dot":"_red-dot_f2y7h_25",burger:Ct},qt=({windowInnerWidth:o})=>{const{menuOpened:n,dappletSettingsOpened:e}=p(m=>m.layout),s=y(),i=()=>{s(b(!n)),o<=880&&s(T(!1))},d=()=>{s(T(!e)),o<=880&&s(b(!1))};return gt(),t.jsxs("div",{className:C.root,children:[t.jsxs("div",{className:C.wrapper,children:[o<=1300&&t.jsx("div",{className:C.burger,onClick:i,"data-testid":"header-burger-button",children:t.jsx(w,{icon:"burger"})}),o<=880&&t.jsxs("span",{className:C["logo-text"],children:["Dapplets Project",t.jsx("span",{className:C["red-dot"],children:"."})]}),o>880&&t.jsx(ft,{})]}),t.jsx("div",{onClick:d,"data-testid":"header-settings-button",children:t.jsx(yt,{})}),t.jsx(Q,{})]})},It="_root_hbjxq_1",kt="_title_hbjxq_11",Lt="_list_hbjxq_17",Tt="_button_hbjxq_45",f={root:It,"menu-closed":"_menu-closed_hbjxq_7",title:kt,list:Lt,"list-item":"_list-item_hbjxq_22",button:Tt},At=({menuOpened:o,userStyles:n=""})=>{const{userLists:e,listOperationGoing:s}=p(r=>r.userData),i=y(),[d,m]=I.useState(""),l=r=>!!s.filter(u=>u.listId===r&&u.operation===X.REMOVE).length,c=(r,u)=>{r.stopPropagation(),i(Z(u))};return e.length?t.jsxs("div",{className:x([f.root,o?"":f["menu-closed"],n]),children:[t.jsx("span",{className:f.title,children:"My Lists"}),t.jsx("div",{className:f.list,children:e&&e.map(r=>t.jsxs("div",{"data-testid":"list-"+r.listId,className:f["list-item"],onMouseEnter:()=>m(r.listId),onMouseLeave:()=>m(""),children:[t.jsxs("span",{children:[r.listName," (",t.jsx("a",{href:"#",children:"Me"}),")"]}),!l(r.listId)&&d===r.listId&&t.jsx("button",{"data-list-id":r.listId,"aria-label":`Delete list ${r.listName}`,type:"button","data-testid":"delet-list-cross-button",className:f.button,onClick:u=>c(u,r.listId),children:t.jsx(w,{icon:"redcross"})}),l(r.listId)&&t.jsx(z,{width:20,height:20,strokeWidth:8,strokeColor:"#0085ff"})]},r.listId))})]}):null},Mt="_root_1t79q_1",Ot="_logo_1t79q_38",_={root:Mt,"menu-header":"_menu-header_1t79q_10","menu-closed":"_menu-closed_1t79q_16","margin-top-40":"_margin-top-40_1t79q_21","arrow-button":"_arrow-button_1t79q_25","logo-text":"_logo-text_1t79q_38","logo-wrapper":"_logo-wrapper_1t79q_62",logo:Ot,"menu-buttons":"_menu-buttons_1t79q_75","logout-button":"_logout-button_1t79q_82","menu-logo":"_menu-logo_1t79q_89","red-dot":"_red-dot_1t79q_93"},Et=[{text:"All Dapplets",icon:N.ALL_DAPPLETS},{text:"Editorâ€™s Choice",icon:N.EDITOR_CHOICE},{text:"Essential Dapplets",icon:N.ESSENTIAL_DAPPLETS},{text:"Financial Dapplets",icon:N.FINANCIAL_DAPPLETS},{text:"Social Networks",icon:N.SOCIAL_NETWORKS}],P=({windowInner:o})=>{const n=J(),e=$(),{menuOpened:s,menuButtonsState:i}=p(a=>a.layout),{isLoadingDapplets:d}=p(a=>a.dapplets),{userTags:m,tagOperationGoing:l}=p(a=>a.userData),c=y(),r=a=>{a!==4&&c(tt(a)),a===4&&n("/AUGWeb/social"),e<=1300&&c(b(!1))},u=()=>{c(b(!s))},A=()=>{e<=1300&&c(b(!1)),c(et())};return t.jsxs("div",{className:_.root,children:[t.jsxs("div",{children:[t.jsxs("div",{className:x([_["menu-header"],s?"":_["menu-closed"]]),children:[e>880&&t.jsxs("div",{className:_["logo-wrapper"],children:[t.jsx("div",{onClick:u,className:_["menu-logo"],"data-testid":"menu-logo-button",children:t.jsx("img",{className:_.logo,src:"/images/logo.png",alt:"Logo"})}),t.jsxs("span",{className:_["logo-text"],children:["Dapplets Project",t.jsx("span",{className:_["red-dot"],children:"."})]})]}),!o&&t.jsx("div",{className:_["arrow-button"],onClick:u,"data-testid":"menu-arrow-button",children:t.jsx(w,{icon:"arrowRight"})})]}),t.jsx("nav",{className:_["menu-buttons"],children:Et.map((a,v)=>t.jsx(B,{menuOpened:s,text:a.text,icon:a.icon,mode:i===v?O.ACTIVE:O.INACTIVE,onClick:()=>r(v),disabled:d},q()))}),e>880&&t.jsxs(t.Fragment,{children:[t.jsx(At,{userStyles:_["margin-top-40"],menuOpened:s}),t.jsx(E,{userStyles:_["margin-top-40"],menuOpened:s,tags:m,title:"My tags",tagMode:D.MY_TAG,tagOperationGoing:l})]})]}),t.jsx("div",{className:_["logout-button"],children:t.jsx(B,{menuOpened:s,text:"SignOut",icon:N.SIGN_OUT,mode:O.INACTIVE,onClick:A},q())})]})},Dt="_root_11cqh_1",$t="_menu_11cqh_10",Bt="_header_11cqh_19",Ut="_children_11cqh_36",h={root:Dt,menu:$t,header:Bt,"dapplet-settings":"_dapplet-settings_11cqh_27",children:Ut,"menu-1300":"_menu-1300_11cqh_40","dapplet-settings-1600":"_dapplet-settings-1600_11cqh_52","main-bg":"_main-bg_11cqh_63"},Ht=({children:o})=>{const n=$(),{modalState:e,menuOpened:s,dappletSettingsOpened:i}=p(c=>c.layout),d=y(),m=c=>c<=1300?{gridTemplateColumns:"1fr"}:c<=1600?{gridTemplateColumns:`${s?325:100}px 1fr`}:{gridTemplateColumns:`${s?325:100}px 1fr ${i?325:55}px`},l=()=>{n<=1300&&(d(T(!1)),d(b(!1)))};return I.useEffect(()=>{d(nt())},[d]),t.jsxs("div",{className:h.root,style:m(n),children:[n>1300&&t.jsx("div",{className:h.menu,children:t.jsx(P,{})}),t.jsxs("div",{children:[t.jsxs("div",{className:h.header,children:[t.jsx(qt,{windowInnerWidth:n}),n<=1600&&i&&t.jsx("div",{className:x([h["dapplet-settings"],h["dapplet-settings-1600"]]),children:t.jsx(H,{windowInner:!0})}),n<=1300&&s&&t.jsx("div",{className:x([h.menu,h["menu-1300"]]),children:t.jsx(P,{windowInner:!0})})]}),t.jsx("div",{className:h.children,onClick:l,children:o})]}),n>1600&&t.jsx("div",{className:h["dapplet-settings"],children:t.jsx(H,{})}),t.jsx("img",{className:h["main-bg"],src:"/images/mainBg.svg",alt:"background"}),e&&t.jsx(st,{})]})},Rt=Ht;export{Rt as default};
